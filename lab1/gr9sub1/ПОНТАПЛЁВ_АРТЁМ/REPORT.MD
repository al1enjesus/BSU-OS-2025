Лабораторная работа 1 - BASH: анализ логов
Цель: научиться работать с файлами логов в Linux с использованием базовых инструментов командной строки.
Задания выполняются на Ubuntu 25.04
Размер исследуемых файлов:
auth.log 63K
syslog 2.3M
dpkg.log 996K
Задание А) Частотный анализ слов в syslog (TOP‑5)
Цель: подсчитать 5 самых частых “слов” в /var/log/syslog.
Решение: я использовал следующую команду:
cat /var/log/syslog \
  | tr -cs '[:alnum:]' '\n' \
  | tr '[:upper:]' '[:lower:]' \
  | sort \
  | uniq -c \
  | sort -nr \
  | head -n 5
  Шаги:
  1) был прочитан файл syslog
  2) все символы, которые не являются буквами и цифрами, были заменены на символы перехода строк
  3) все символы переведены в нижний регистр
  4) слова отсортировались
  5) подсчитаны частотности слов
  6) слова отсортированы относительно частотности
  7) выведены первые 5 слов
Ответ:
14335 00
6467 ubuntu
6328 09
6325 2025
3526 13t19
Вывод: вывел 5 слов с максимальной частотой.
Задание Б) Неудачные попытки входа (auth.log)
Цель: 1) найти строки с Failed или Invalid в /var/log/auth.log, 2) извлечь IP‑адреса, посчитать TOP‑10 источников, 3) замаскировать последний октет IP.
1)
Решение: я использовал команду:
grep -E 'Failed|Invalid' /var/log/auth.log
Шаги:
найдена строка с Failed или Invalid.
Ответ:
2025-09-13T20:29:44.927937+00:00 ubuntu dbus-daemon[700]: [system] Failed to activate service 'org.bluez': timed out (service_start_timeout=25000ms)
Вывод: нашел строку с заданными словами.
2)
Решение: я использовал команду 
grep -Eo '[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}' /var/log/auth.log
Шаги: 
попытка найти IP адрес
Ответ:
IP адреса не были выведены.
Вывод: в файле auth.log не находились IP адреса.
3)
Выполнять данное задание нельзя, так как IP адресов в файле нет, однако выполнял бы его при помощи команды:
sed -E 's/([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)[0-9]{1,3}/\1x/g' /var/log/auth.log
Задание В) Установки пакетов (dpkg.log)
Цель: по /var/log/dpkg.log посчитать, какие пакеты устанавливались чаще всего (события install), вывести TOP‑10 пакетов с количеством установок.
Решение: я использовал команду:
grep " install " /var/log/dpkg.log \
| awk '{print $4}' \
| sort \
| uniq -c \
| sort -nr \
| head -n 10
Шаги:
1) поиск всех строк со словом install
2) извлечены четвертые слова из каждой строки
3) сортировка слов
4) подсчитана частота
5) слова отсортированы по частоте
6) выведены первые 10
Ответ:
      1 zstd:amd64
      1 zlib1g:amd64
      1 zip:amd64
      1 zenity-common:all
      1 zenity:amd64
      1 yelp-xsl:all
      1 yelp:amd64
      1 yaru-theme-sound:all
      1 yaru-theme-icon:all
      1 yaru-theme-gtk:all
Вывод: нашел топ-10 пакетов по количеству установок.
Как использовал AI в лабораторной работе: для нахождения некоторых команд и изучения их принципа работы.
Как проверял результаты в лабораторной работе: использовал другие спосоы получения ответа, а именно другие команды. Например, в задании Б 2) использовал команду
awk '/[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+/ {for(i=1;i<=NF;i++) if($i=/^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$/) print $i}' /var/log/auth.log для того, чтобы убедиться, что IP адресов в файле нет.

