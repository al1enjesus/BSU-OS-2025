Лабораторная 1 
Выполнил Михальчук Александр
Группа 9

Цель работы:
Освоение базовых инструментов командной строки Linux для анализа файлов логов, включая навигацию, поиск, фильтрацию и агрегацию данных.

Задание А) Частотный анализ слов в syslog (TOP‑5)
#Подсчитайте 5 самых частых “слов” в /var/log/syslog (нормализуйте регистр, отделяйте слова).

Шаги решения:
1)прочитать файл /var/log/syslog 
2)все символы которые не являются буквами или цифрами заменены на символ перехода строки
3)слова были приведены к нижнему регистру
4)слова вывода отсортированы в алфавитном порядке
5)подсчитаны частотности слов
6)отсортированы от большего к меньшему и выведены топ 5

Команда для выполнения: sudo cat /var/log/syslog | \
tr -cs '[:alnum:]' '\n' | \
tr '[:upper:]' '[:lower:]' | \
sort | uniq -c | sort -nr | head -n 5

Пояснения:
sudo cat /var/log/syslog - выводит содержимое syslog
tr -cs '[:alnum:]' '\n' - все не-буквенно-цифровые символы заменяются на переводы строк, а последовательности таких символов - на один перевод строки
tr '[:upper:]' '[:lower:]' - приводит все к нижнему регистру
sort - сортирует содержимое вывода
uniq -c - удаляет повторяющиеся строки и подсчитывает количество вхождений 
sort -nr - сортирует от большего к меньшему
head -n 5 - выводит первые 5 строк

Результат:
9729 00
4753 09
4695 2025
2517 14t09
2439 ubuntu
Итог: Вывел 5 самых частых слов в /var/log/syslog

Задание Б) Неудачные попытки входа (auth.log)
#Найдите строки с Failed или Invalid в /var/log/auth.log.
#Извлеките IP‑адреса, посчитайте TOP‑10 источников.
#Замаскируйте последний октет IP (например, 192.168.0.15 → 192.168.0.x) с помощью sed. 

Шаги решения:
1)читаем файл /var/log/auth.log
2)ищем слова либо Failed, либо Ignore
3)ищем IP-адреса
4)сортируем, подсчитываем частотность IP, сортируем от большего к меньшему
5) выводим топ 10 и маскируем последний октет IP-адресов на x

Команда для выполнения: sudo cat /var/log/auth.log | grep -E "(Failed|Ignore)" | grep -Eo "([0-9]{1,3}\.){3}[0-9]{1,3}" | sort | uniq -c | sort -nr | head -10 | sed -E 's/([0-9]+\.[0-9]+\.[0-9]+\.)[0-9]+/\1x/g' 

Пояснения:
sudo cat /var/log/auth.log - выводит содержимое файла auth.log 
grep -E "(Failed|Ignore)" - ищет строки, где есть либо Failed, либо Ignore
grep -Eo "([0-9]{1,3}\.){3}[0-9]{1,3}" - ищет IP-адреса
sort - сортиерует в алфавитном порядке
uniq -c - удаляет дубликаты и подсчитывает количество вхождений
sort -nr - сортирует по числовому порядку от большего к меньшему
head -10 - выводит первые 10 строк
sed -E 's/([0-9]+\.[0-9]+\.[0-9]+\.)[0-9]+/\1x/g' - маскирует последний октет IP-адресов на x

Результат:
Ничего не вывело. Скорее всего IP-адреса не записываются в логи.

Задание В) Установки пакетов (dpkg.log)
#По /var/log/dpkg.log посчитайте, какие пакеты устанавливались чаще всего (события install).
#Выведите TOP‑10 пакетов с количеством установок.

Команда для выполнения: sudo cat /var/log/dpkg.log | grep "install " | \
awk '{print $4}' | \
sort | uniq -c | sort -nr | head -10
Шаги решения:
1)читаем файл /var/log/dpkg.log
2)ищем слова "install " с пробелом на конце
3)выводим только 4 слово в строке так как он отвечает за установленные пакеты
4)сортируем, удаляем дубликаты и подсчитываем частотность слов
5) сортируем от большего к меньшему и выводим топ 10

Пояснения:
sudo cat /var/log/dpkg.log - выводит содержимое файла dpkg.log
grep "install " - поиск слова "install " c пробелом на конце, чтобы не было к примеру installed
awk '{print $4}' - выводит только 4 слово в строке
sort - сортирует в алфавитном порядке
uniq -c - удаляет дубликаты и подсчитывает количество вхождений
sort -nr - сортирует по числовому порядку от большего к меньшему
head -10 - выводит первые 10 строк

Результат: 
 1 zstd:amd64
 1 zlib1g:amd64
 1 zip:amd64
 1 zenity-common:all
 1 zenity:amd64
 1 yelp-xsl:all
 1 yelp:amd64
 1 yaru-theme-sound:all
 1 yaru-theme-icon:all
 1 yaru-theme-gtk:all


Использование AI
Вопросы к AI:
1.Объяснение работы регулярных выражений в командах grep и sed
2.Пояснение различий между базовыми и расширенными regex
3.Альтернативные варианты команд для обработки краевых случаев
4.Объяснение работы конвейеров и отдельных утилит

Проверял выполнение команд в виртуальной машине Ubuntu. Проверил наличие логов. Последовательно выполнял команды по отдельности и конвейер строился поэтапно.

Заключение 
В ходе выполнения лабораторной работы были успешно освоены и применены на практике ключевые инструменты командной строки Linux для анализа лог-файлов. Все поставленные задачи выполнены в полном объеме.

