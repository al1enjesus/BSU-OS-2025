# Лабораторная 1 — Bash: анализ логов

Короткая практика по работе с файлами логов в Linux с использованием базовых инструментов командной строки.

## Среда и данные
- Linux (или Windows с WSL2).
- Логи для анализа:
  - `/var/log/syslog`
  - `/var/log/auth.log`
  - `/var/log/dpkg.log`
- Если некоторые файлы недоступны (например, в WSL2):
  - Снимите дамп ядра: `dmesg --ctime > logs/dmesg.txt` и используйте его как дополнительный источник.

## Инструменты (ожидается использование)
- Навигация/просмотр: `pwd`, `ls -lah`, `cd`, `cat`, `less`, `head`, `tail -n 50`, `tail -f`
- Поиск и фильтрация: `grep '...'`, `grep -i`, `grep -E 'regex'`, `grep -v`
- Агрегации и парсинг: `wc -l`, `sort`, `uniq -c`, `cut -d ' ' -f1`, `awk '{print $0}'`, `sed -E 's/.../.../g'`
- Конвейеры и перенаправления: `|`, `>`, `>>`, `2>`

## Задания

А) Частотный анализ слов в syslog (TOP‑5)
- Подсчитайте 5 самых частых “слов” в `/var/log/syslog` (нормализуйте регистр, отделяйте слова).
- Пример конвейера (можно адаптировать):
```bash
cat /var/log/syslog \
  | tr -cs '[:alnum:]' '\n' \
  | tr '[:upper:]' '[:lower:]' \
  | sort \
  | uniq -c \
  | sort -nr \
  | head -n 5
```

Б) Неудачные попытки входа (auth.log)
- Найдите строки с `Failed` или `Invalid` в `/var/log/auth.log`.
- Извлеките IP‑адреса, посчитайте TOP‑10 источников. 
- Замаскируйте последний октет IP (например, `192.168.0.15 → 192.168.0.x`) с помощью `sed`.
  - Подсказка: используйте `grep -E`, `awk`/`cut`, `sort | uniq -c | sort -nr`, и `sed -E 's/(\d+\.\d+\.\d+\.)\d+/\1x/g'`.

В) Установки пакетов (dpkg.log)
- По `/var/log/dpkg.log` посчитайте, какие пакеты устанавливались чаще всего (события `install`).
- Выведите TOP‑10 пакетов с количеством установок.

## Что предоставить в PR
- Выполненные команды и краткие пояснения поместите в `REPORT.MD` в вашей личной папке: `lab1/gr<группа>sub<подгруппа>/ФАМИЛИЯ_ИМЯ/REPORT.MD`.
- При необходимости приложите дополнительные файлы в `logs/` рядом с отчётом (например, `dmesg.txt`).
- Для воспроизводимости добавьте команды запуска и ожидаемые результаты.

## Критерии приёмки (минимум)
- Команды безопасны (не требуют разрушительных действий; без `sudo rm -rf`, без небезопасных однострочников `curl | sh`).
- Отчёт содержит: цель → шаги/решения → ключевые выводы → ответы на вопросы → как проверяли → как использовали AI.
- Выводы по заданиям A/B/В воспроизводимы по предоставленным шагам.

## Подача
- Ветка от `main`: `gr<группа>sub<подгруппа>-lab1-<ФамилияИИ>` (пример: `gr6sub1-lab1-ИвановИИ`).
- Работайте только в своей папке `lab1/gr<группа>sub<подгруппа>/ФАМИЛИЯ_ИМЯ/`.
- Откройте PR в `main`. Дождитесь CI и AI‑комментариев, при необходимости внесите правки.


