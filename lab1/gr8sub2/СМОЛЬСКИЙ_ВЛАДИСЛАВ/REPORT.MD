## Среда выполнения
- **ОС:** Ubuntu 22.04 LTS
- **Доступность логов:** Все указанные файлы логов (/var/log/syslog, /var/log/auth.log, /var/log/dpkg.log) доступны для чтения стандартному пользователю
- **Инструменты:** Стандартные утилиты командной строки GNU/Linux
## Задание А
#### Цель
Подсчитать 5 самых частых “слов” в `/var/log/syslog`, нормализовать регистр и отделить слова
#### Шаги решения
- Посмотрел как выглядит несколько логов в `/var/log/syslog`, используя команду `tail`
- Разобрал пример из задания
- Адаптировал пример, чтобы удалялись слова из одной буквы с помощью команды `sed '/^[[:lower:]]$/d'`
#### Команды:
``` bash
cat /var/log/syslog \
	| tr -cs '[:alpha:]' '\n' \
	| tr '[:upper:]' '[:lower:]' \
	| sed '/^[[:lower:]]$/d' \
	| sort \
	| uniq -c \
	| sort -nr \
	| head -n 5
```
#### Ожидаемый результат:
```
  37960 user_name
  37920 laptop
  19499 signal
  10322 wlp
  10106 kernel
```
#### Проверка результатов
- Проверяли промежуточные результаты после каждого этапа конвейера:
    - После `tr -cs '[:alnum:]' '\n'` - убедились в разделении слов
    - После `tr '[:upper:]' '[:lower:]'` - проверили нормализацию регистра
    - После `sed '/^[[:lower:]]$/d'` - убедились в удалении односимвольных строк
    - После `sort | uniq -c` - проверили корректность подсчета частот
#### Ключевые выводы
- Нормализация регистра важна для корректного подсчета
- Фильтрация односимвольных слов улучшает качество анализа
## Задание Б
#### Цель
Так как в логах были только локальные входы, первоначальное задание невозможно выполнить и оно было изменено. Нужно для неудачных попыток входа найти время и имя пользователя.
#### Шаги решения
- Рассмотрел логи из `/var/log/auth.log`
- Нашел неудачные попытки входа с помощью команды `grep 'failure'`
- Изменил строку с с помощью `sed`
#### Команды:
``` bash
cat /var/log/auth.log | \
	grep 'failure' | \
	sed -E 's/([0-9]+-[0-9]+-[0-9]+)T([0-9]+:[0-9]+:[0-9]+).*user=([[:alpha:]]+)/\1 \2 \tUser: \3/g'
```
#### Ожидаемый результат:
```
2025-09-14 15:12:29 	User: user_name
2025-09-14 15:12:36 	User: user_name
2025-09-14 20:34:18 	User: user_name
2025-09-14 20:34:23 	User: user_name
```
#### Проверка результатов
- Убедился, что команда обрабатывает все строки с "authentication failure"
- Убедился, что имена пользователей извлекаются правильно из поля "user="
- Вручную сравнил несколько записей для проверки корректности обработки
#### Ключевые выводы
1. Обнаружены периоды наибольшей активности неудачных попыток входа
2. Обнаружены повторяющиеся временные интервалы 
## Задание В
#### Цель
По `/var/log/dpkg.log` посчитать, какие пакеты устанавливались чаще всего (события `install`). Вывести TOP‑10 пакетов с количеством установок.
#### Шаги решения
- Выбрал строки из `/var/log/dpkg.log`, в котрых было событие установки пакета командой `grep 'installed'`
- В этих строках командой `awk '{print $5}'` оставил поле с названием пакета
- Посчитал количество установки каждого пакета используя `sort | uniq -c`
- Выбрал TOP-10 командами `sort -nr | head -n 10`
#### Команды:
``` bash
cat /var/log/dpkg.log \
	| grep 'installed' \
	| awk '{print $5}' \
	| sort \
	| uniq -c \
	| sort -nr \
	| head -n 10
```
#### Ожидаемый результат:
```
     25 libc-bin:amd64
     18 man-db:amd64
     10 dbus:amd64
      7 systemd:amd64
      7 libglib2.0-0t64:amd64
      7 gnome-menus:amd64
      7 desktop-file-utils:amd64
      6 udev:amd64
      6 sgml-base:all
      6 python3.12-minimal:amd64
```
#### Проверка результатов
- Проверка корректности фильтрации событий install
- Проверка, что извлекаются имена пакетов
- Подсчет количества установок для каждого пакета
#### Ключевые выводы
- Выявлены наиболее часто устанавливаемые пакеты
## Использование AI
При выполнении работы использовался Deepseek. AI помог в подборе регулярных выражений для обработки сложных форматов данных, объяснении синтаксиса инструментов sed/awk и отладке возникающих ошибок.