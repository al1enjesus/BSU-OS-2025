Цель работы: 
Научиться анализировать системные логи в Linux.

Задание A (Частотный анализ слов в syslog):

Команды:
```bash
cat /var/log/syslog \
  | tr -cs '[:alnum:]' '\n' \
  | tr '[:upper:]' '[:lower:]' \
  | sort \
  | uniq -c \
  | sort -nr \
  | head -n 5```

Результат: 
10621 virtualbox
10512 justi
10475 sep
6164 6
5355 08

Вывод:
Наиболее часто встречающиеся слова - virtualbox, justi и метки времени (sep, 6, 08). Так как syslog содержит системные сообщения, включающие дату, имя машины и пользователя.



Задание Б (Неудачные попытки входа):

Подсчет успешных/неудачных попыток(Анализ статусов входа):
```bash
grep -E "Accepted|Failed|Invalid" /var/log/auth.log | awk '{print $6}' | sort | uniq -c | sort -nr```
Результаты:
5 [system]
1 justli

Попытки входа по часам:
```bash
grep -E "Failed|Invalid" /var/log/auth.log | awk '{print $3}' | cut -d: -f1 | sort | uniq -c```

Результаты:
1 08
1 12
1 14
1 21
2 22

Попытки входа по датам:
```bash
grep -E "Failed|Invalid" /var/log/auth.log | awk '{print $1, $2}' | sort | uniq -c | sort -nr```

Результаты:
3 Sep 6
2 Sep 14
1 Sep 8


Вывод:
Вместо IP-адресов анализировались имена пользователей, из-за отсутствия попыток подключения по SSH извне.




Задание В (Установки пакетов):
Команды:
```bash
grep 'install ' /var/log/dpkg.log \
| awk '{print $4}' \
| sort \
| uniq -c \
| sort -nr \
| head -n 10```

Результат:
2 libfile-fcntllock-perl:amd64
2 libdpkg-perl:all
1 zsys:amd64
1 zstd:amd64
1 zlib1g:amd64
1 zip:amd64
1 zfs-zed:amd64
1 zfsutils-linux:amd64
1 zfs-initramfs:amd64
1 zenity-common:all


Вывод:
Наиболее часто устанавливались библиотеки libfile-fcntllock-perl, libdpkg-perl, а также утилиты, связанные с файловыми системами (zfs, zip, zstd).


Ответы на вопросы:
Как проверяли? 
Сравнила количество записей содержащих ключевые слова вручную.
Сопоставила даты и часы с реальными событиями.
Провела повторный запуск команд на другом лог-файле для проверки стабильности результатов. 
Запускала команды и сравнивала вывод с ожидаемым результатом. (Реальные результаты совпали с ожидаемыми)

Как помог AI? 
Объяснил значение и синтаксис новых для меня команд. А так же помог мне разобраться с командами, которые раньше были непонятны. Он объяснил, что делает каждая часть (например, grep ищет строки, awk вытаскивает нужные поля, а sort и uniq помогают посчитать повторения). AI показал как можно извлечь IP-адреса, если бы они были.

Почему в задании Б анализировались имена пользователей вместо IP-адресов?
Работа выполняется на виртуальной машине и хост имеет один айпи адрес, который может подключиться к машине и по рекомендации преподавателя было предложено анализировать неудачные попытки входа пользователя локально на машине вместо поиска IP-адресов.
В ином случае команда с маскировкой IP через sed была бы такой: grep -E "Failed|Invalid" /var/log/auth.log | grep -oE '[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+' | sed -E 's/([0-9]+\.[0-9]+\.[0-9]+\.)[0-9]+/\1x/g' | sort | uniq -c | sort -nr

Можно ли показать команду для извлечения IP-адресов из auth.log?
grep -E "Failed|Invalid" /var/log/auth.log | grep -oE '[0-9]+.[0-9]+.[0-9]+.[0-9]+' | sort | uniq -c | sort -nr

Какие ещё логи могли бы быть полезны для анализа безопасности?
/var/log/auth.log - для анализа входов и аутентификации.
/var/log/syslog - общие системные сообщения.
/var/log/sudo.log - если включен, показывает использование sudo.

Что означают конкретные значения в выводе (например, почему "virtualbox" так часто встречается)?
virtualbox - это имя хоста или виртуальной машины, на которой выполняется система. Оно автоматически включается в каждую строку лога как часть идентификатора источника сообщения.
